<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>lang.shell.ssh-dreamhost</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../_asset/css/style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">lang.shell.ssh-dreamhost</h1>
</header>
<ol type="1">
<li><a href="#overview">overview</a></li>
<li><a href="#setup">setup</a>
<ol type="1">
<li><a href="#enable">enable shell access</a>
<ol start="2" type="1">
<li><a href="#locate-hostname">locate hostname</a></li>
</ol></li>
</ol></li>
<li>login
<ol type="1">
<li><a href="#simple">simple</a></li>
<li><a href="#passwordless">advanced (passwordless)</a>
<ol type="1">
<li><a href="#passwordless-osx">osx</a></li>
<li><a href="#passwordless-pc">pc</a></li>
</ol></li>
</ol></li>
<li><a href="#local-config">local config (osx)</a></li>
<li><a href="#invisible">invisible remote access (osx)</a></li>
<li><a href="#examples">examples</a></li>
</ol>
<h2 id="overview">Overview <a name="overview"></a></h2>
<hr />
<ul>
<li><p>aka secure shell - is most often used as a command line alternative to ftp.</p>
<p>(with ftp, you use a client to log into your server. With SSH, you use a terminal (or shell) &amp; type in commands to access your server.)</p></li>
<li><p>all ssh traffic travels over a secured connection, rather than plain text. Because of this, the connection is encrypted and secure.</p></li>
</ul>
<blockquote>
<p>DreamHost currently uses OpenSSH software on the server end.</p>
</blockquote>
<ul>
<li><p>ssh allows you to take advantage of many tools which are not available with an FTP client: - wget - curl - traceroute - rsync - top - (other tools)</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Secure_Shell">more on wikipedia…</a></p></li>
</ul>
<h2 id="setup">Setup <a name="setup"></a></h2>
<hr />
<h3 id="enable-shell-access">enable shell access <a name="enable"></a><br />
</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Enabling-Shell-access">enable shell acess for your user</a></li>
</ul>
<h3 id="locate-hostname">locate hostname <a name="locate-hostname"></a><br />
</h3>
<p>some options:</p>
<ul>
<li><p>example.com - can use this if you’re logging into a specific website. Just change <code>example.com</code> to your actual domain name.</p></li>
<li><p>server.dreamhost.com - ‘server’ is the name of your Shared server</p></li>
<li><p>ps123456.dreamhostps.com - ‘ps123456’ is the name of your VPS server</p></li>
<li><p>ds123456.dreamservers.com ‘ds123456’ is the name of your Dedicated server</p></li>
<li><p>dp-ab12cd34ef.dreamhostps.com ‘dp-ab12cd34ef’ is the name of your DreamPress instance</p></li>
<li><p><a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials#Finding_your_FTP_server_hostname">more info…</a></p></li>
</ul>
<h2 id="login">Login <a name="login"></a><br />
</h2>
<hr />
<h3 id="simple">simple <a name="simple"></a><br />
</h3>
<ul>
<li><p>run this in terminal:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="bn">    [server]$ ssh username@server.dreamhost.com</span></a></code></pre></div>
<p>OR</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="bn">    [server]$ ssh username@example.com</span></a></code></pre></div></li>
</ul>
<h3 id="advanced-passwordless">advanced (passwordless) <a name="passwordless"></a><br />
</h3>
<p>Once you set up a shell user, you must enter your password each time when logging into the server. To avoid this, you can set up passwordless Login. This way, you’ll be able to automatically log in each time without needing to enter your password.</p>
<h4 id="osx">osx <a name="passwordless-osx"></a><br />
</h4>
<ol type="1">
<li><p>Generate an RSA private key using ssh-keygen (unless you have already created one).</p>
<p>Open terminal, &amp; run following command under your username:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="bn">    [server]$ ssh-keygen -t rsa</span></a></code></pre></div>
<p>This creates a public/private keypair of the type (-t) rsa.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="bn">    Generating a public/private rsa key pair.</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="bn">    Enter the file in which you wish to save they key (i.e., /home/username/.ssh/id_rsa).</span></a></code></pre></div>
<p>Enter passphrase.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="bn">    Just hit &lt;ENTER&gt; here (since you don&#39;t want a password).</span></a></code></pre></div>
<p>when done, you’ll see:</p></li>
</ol>
<figure>
<img src="_asset/img/lang/shell/ssh/1.png" alt="RSA Fingerprint" /><figcaption>RSA Fingerprint</figcaption>
</figure>
<ol start="2" type="1">
<li>Copy the public key you just created on your home computer to your DreamHost server:</li>
</ol>
<ul>
<li><p>on mac:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="bn">    /*</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="bn">        This command assumes you do NOT already have </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="bn">        an /.ssh directory under your DreamHost </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="bn">        username. This command creates the /.ssh </span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="bn">        directory for you on your DreamHost server.</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="bn">        If you already have an /.ssh directory on </span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="bn">        your web server, just remove the </span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="bn">        &#39;mkdir ~/.ssh;&#39; section.</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="bn">    */</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="bn">    [server]$ cat ~/.ssh/id_rsa.pub | ssh username@server.dreamhost.com &quot;mkdir ~/.ssh; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span></a></code></pre></div>
<p>which responds with:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="bn">    The authenticity of host &#39;server.dreamhost.com (208.113.136.55)&#39; can&#39;t be established.</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="bn">    RSA key fingerprint is 50:46:95:5f:27:c9:fc:f5:f5:32:d4:3a:e9:cb:4f:9f.</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="bn">    Are you sure you want to continue connecting (yes/no)? yes</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="bn">    Warning: Permanently added &#39;server.dreamhost.com,208.113.136.55&#39; (RSA) to the list of known hosts.</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="bn">    username@server.dreamhost.com&#39;s password:</span></a></code></pre></div>
<p>Enter your ssh uname/pword when prompted.</p></li>
</ul>
<ol start="3" type="1">
<li>Confirm the SSH connection:</li>
</ol>
<ul>
<li><p>the commands above create a new folder under your DreamHost user named <code>/.ssh</code> with 700 permissions. In this folder, is your authorized_keys file which was just copied from your home computer which has 600 permissions.</p></li>
<li><p>if everything is configured properly, you should now be able to access your DreamHost account through SSH without a password. Run this command on your home computer where you just created the original keypair.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="bn">    // now log in without a password!</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="bn">    [server]$ ssh username@server.dreamhost.com</span></a></code></pre></div></li>
</ul>
<h4 id="pc">pc <a name="passwordless-pc"></a><br />
</h4>
<p>If you’re using Windows, you’ll need to download a third-party program named PuTTY to emulate a shell environment. View the following articles for further details:</p>
<ol type="1">
<li><p><a href="https://help.dreamhost.com/hc/en-us/articles/215464538-How-do-I-configure-PuTTY-">putty - how to configure</a></p></li>
<li><p><a href="https://help.dreamhost.com/hc/en-us/articles/215464758-How-do-I-set-up-passwordless-login-in-PuTTY-">putty - how to setup passwordless login</a></p></li>
</ol>
<h2 id="local-config-osx">Local Config (OSX) <a name="local-config"></a><br />
</h2>
<hr />
<p>By creating a local configuration file for SSH, you can create shortcuts for servers you frequently access, in addition to configuring more advanced options.</p>
<ol type="1">
<li><p>make file:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="bn">    touch /Users/username/.ssh/config</span></a></code></pre></div>
<p><em>NOTE:</em>/ Your <code>.ssh</code> directory is automatically created when you use the ssh command for the first time. If you have never used ssh before, under this user account - create the directory first using:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="bn">    mkdir /Users/username/.ssh &amp;&amp; chmod 700 /Users/username/.ssh</span></a></code></pre></div></li>
<li><p>edit file - using vi or any unix text editor:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="bn">    // using vi</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="bn">    vi /Users/username/.ssh/config</span></a></code></pre></div></li>
<li><p>include shortcuts:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="bn">    Host dv</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="bn">    HostName example.com</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="bn">    User domainuser</span></a></code></pre></div>
<p>or to refresh your connection every 30 seconds for a max of one hour:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="bn">    Host dv</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="bn">    HostName dv.example.com</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="bn">    User ftpuser</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="bn">    ServerAliveInterval 30</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="bn">    ServerAliveCountMax 120</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="bn">    Host grid</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="bn">    HostName grid.example.com</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="bn">    User serveradmin@grid.example.com</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="bn">    ServerAliveInterval 30</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="bn">    ServerAliveCountMax 120</span></a></code></pre></div></li>
<li><p>run cmd:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="bn">    ssh dv</span></a></code></pre></div>
<h2 id="invisible-remote-access-osx">Invisible Remote Access (osx) <a name="invisible"></a><br />
</h2></li>
</ol>
<hr />
<ul>
<li>you can remotely log into a mac ’s command-line environment using ssh, without the currently logged-in grpahical user knowing you’re there! (This allows admins to make changes without alering the user to their work.)</li>
<li>as ssh is a common standard - any os (that supports ssh) can remotely log into your mac!</li>
</ul>
<h2 id="ex">EX <a name="example"></a><br />
</h2>
<hr />
<ul>
<li><p>copy key to dreamhost server:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="bn">    // replace &quot;user-name@&quot; below with your actual username</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="bn">    cat ~/.ssh/id_rsa.pub | ssh user-name@ps1234.dreamhost.com &quot;mkdir ~/.ssh; cat &gt;&gt;</span></a></code></pre></div></li>
<li><p>passwordless login:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="bn">    // replace &quot;user-name@&quot; below with your actual username</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="bn">    ssh user-name@ps1234.dreamhost.com</span></a></code></pre></div></li>
<li><p><code>command list!</code> (login, run commands, log out!):</p></li>
</ul>
<figure>
<img src="_asset/img/2.png" alt="Command list" /><figcaption>Command list</figcaption>
</figure>
<ul>
<li><code>multiple machines</code></li>
</ul>
<figure>
<img src="_asset/img/4.png" alt="Multiple Machines" /><figcaption>Multiple Machines</figcaption>
</figure>
</body>
</html>
