<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>browser.framework.aframe.component</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../../_asset/css/style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">browser.framework.aframe.component</h1>
</header>
<ul>
<li><a href="#overview">overview</a>
<ul>
<li><a href="#html-form">html form</a></li>
<li><a href="#register-component">register component</a></li>
<li><a href="#schema">schema</a></li>
<li><a href="#life-cycle-handler-methods">life-cycle handler methods</a>
<ul>
<li><a href="#init">init</a></li>
<li><a href="#update">update</a></li>
<li><a href="#remove">remove</a></li>
<li><a href="#tick">tick</a></li>
<li><a href="#tock">tock</a></li>
<li><a href="#pause">pause</a></li>
<li><a href="#play">play</a></li>
<li><a href="#update-schema">updateSchema</a></li>
<li><a href="#definition-properties">definition properties</a></li>
<li><a href="#component-prototype-methods">component prototype methods</a></li>
<li><a href="#members-and-methods">accessing components members &amp; methods</a></li>
</ul></li>
</ul></li>
<li><a href="./native">native</a></li>
<li><a href="./3rd-party">3rd-party</a></li>
<li><a href="./custom">custom</a></li>
</ul>
<h2 id="overview">Overview <a name="overview"></a></h2>
<hr />
<ul>
<li><p>in the entity-component-system pattern, a component is a reusable and modular chunk of data that we plug into an entity to add appearance, behavior, and/or functionality.</p></li>
<li><p>components modify <code>entities</code>; mix &amp; compose components together to build complex objects.</p></li>
<li><p>they allow you to encapsulate <code>three.js</code> &amp; JS code into modules that we can use declaratively from HTML.</p></li>
</ul>
<h2 id="html-form">HTML Form <a name="html-form"></a></h2>
<hr />
<ul>
<li><p>a component holds a bucket of data in the form of one or more component properties. Components use this data to modify entities. Consider an engine component, we might define properties such as horsepower or cylinders.</p></li>
<li><p>HTML attributes represent component names and the value of those attributes represent component data.</p></li>
<li><p>demo:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co">// single-property component</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="op">&lt;!--</span> <span class="vs">`position`</span> is the name of the position <span class="va">component</span>. <span class="op">--&gt;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="op">&lt;!--</span> <span class="vs">`1 2 3`</span> is the data of the position <span class="va">component</span>. <span class="op">--&gt;</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="op">&lt;</span>a<span class="op">-</span>entity position<span class="op">=</span><span class="st">&quot;1 2 3&quot;</span><span class="op">&gt;</span>&lt;/a<span class="op">-</span>entity<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">// multi-property</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="op">&lt;!--</span> <span class="vs">`light`</span> is the name of the light <span class="va">component</span>. <span class="op">--&gt;</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="op">&lt;!--</span> The <span class="vs">`type`</span> property of the light is set to <span class="vs">`point`</span>. <span class="op">--&gt;</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="op">&lt;!--</span> The <span class="vs">`color`</span> property of the light is set to <span class="vs">`crimson`</span>. <span class="op">--&gt;</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="op">&lt;</span>a<span class="op">-</span>entity light<span class="op">=</span><span class="st">&quot;type: point; color: crimson&quot;</span><span class="op">&gt;</span>&lt;/a<span class="op">-</span>entity<span class="op">&gt;</span></a></code></pre></div></li>
</ul>
<h2 id="register-component">Register Component <a name="register-component"></a></h2>
<hr />
<ul>
<li><p><code>AFRAME.registerComponent (name, definition)</code> - you must register components before using them anywhere in <a-scene>. Meaning from an HTML file, components should come in order before <a-scene>:</p>
<ul>
<li><code>{string} name</code> - Component name. The component’s public API as represented through an HTML attribute name.</li>
<li><code>{Object} definition</code> - Component definition. Contains schema and lifecycle handler methods.</li>
</ul></li>
<li><p>demo:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co">// Registering component in foo-component.js</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="va">AFRAME</span>.<span class="at">registerComponent</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">    <span class="dt">schema</span><span class="op">:</span> <span class="op">{},</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">    <span class="dt">init</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{},</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">    <span class="dt">update</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{},</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">    <span class="dt">tick</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{},</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">    <span class="dt">remove</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{},</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">    <span class="dt">pause</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{},</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="dt">play</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{}</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="op">&lt;!--</span> Usage of <span class="vs">`foo`</span> component <span class="op">--&gt;</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="op">&lt;</span>html<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    <span class="op">&lt;</span>head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">        <span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;aframe.min.js&quot;</span><span class="op">&gt;</span>&lt;/script<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">        <span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;foo-component.js&quot;</span><span class="op">&gt;</span>&lt;/script<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">    &lt;/head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    <span class="op">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">        <span class="op">&lt;</span>a<span class="op">-</span>scene<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">            <span class="op">&lt;</span>a<span class="op">-</span>entity foo<span class="op">&gt;</span>&lt;/a<span class="op">-</span>entity<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">        &lt;/a<span class="op">-</span>scene<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">    &lt;/body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">&lt;/html<span class="op">&gt;</span></a></code></pre></div></li>
</ul>
<h2 id="schema">Schema <a name="schema"></a></h2>
<hr />
<ul>
<li><p><code>schema</code> - an object that defines / describes the properties of the component. The schema’s keys are the names of the property.</p></li>
<li><p>demo:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="va">AFRAME</span>.<span class="at">registerComponent</span>(<span class="st">&#39;bar&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">    <span class="dt">schema</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">        <span class="dt">color</span><span class="op">:</span> <span class="op">{</span><span class="dt">default</span><span class="op">:</span> <span class="st">&#39;#FFF&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">        <span class="dt">size</span><span class="op">:</span> <span class="op">{</span><span class="dt">type</span><span class="op">:</span> <span class="st">&#39;int&#39;</span><span class="op">,</span> <span class="dt">default</span><span class="op">:</span> <span class="dv">5</span><span class="op">}</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="op">&lt;</span>a<span class="op">-</span>scene<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">    <span class="op">&lt;</span>a<span class="op">-</span>entity bar<span class="op">=</span><span class="st">&quot;color: red; size: 20&quot;</span><span class="op">&gt;</span>&lt;/a<span class="op">-</span>entity<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">&lt;/a<span class="op">-</span>scene<span class="op">&gt;</span></a></code></pre></div></li>
<li><p>property types:</p>
<figure>
<img src="_asset/img/1.png" alt="schema" /><figcaption>schema</figcaption>
</figure></li>
<li><p>property type inference:</p>
<figure>
<img src="_asset/img/2.png" alt="schema" /><figcaption>schema</figcaption>
</figure></li>
<li><p><code>custom property type</code> - can also define own property type (or parser) by providing a parse function in place of a type!</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" data-line-number="1">schema<span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    <span class="co">// Parse slash-delimited string to an array (e.g., `foo=&quot;myProperty: a/b&quot;` to `[&#39;a&#39;, &#39;b&#39;]`).</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">    <span class="dt">myProperty</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">        <span class="dt">default</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">        <span class="dt">parse</span><span class="op">:</span> <span class="kw">function</span> (value) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">            <span class="cf">return</span> <span class="va">value</span>.<span class="at">split</span>(<span class="st">&#39;/&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">        <span class="op">}</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="op">}</span></a></code></pre></div></li>
<li><p><code>single-property schema</code> - a component can either be a single-property component (consisting of one anonymous value) or a multi-property component (consisting of multiple named values). Aframe will infer whether a component is single-property vs. multi-property based on the structure of the schema.</p>
<p>A single-property component’s schema contains type and/or default keys, &amp; the schema’s values are plain values rather than objects:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="va">AFRAME</span>.<span class="at">registerComponent</span>(<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">    <span class="dt">schema</span><span class="op">:</span> <span class="op">{</span><span class="dt">type</span><span class="op">:</span> <span class="st">&#39;int&#39;</span><span class="op">,</span> <span class="dt">default</span><span class="op">:</span> <span class="dv">5</span><span class="op">}</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="op">&lt;</span>a<span class="op">-</span>scene<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">    <span class="op">&lt;</span>a<span class="op">-</span>entity foo<span class="op">=</span><span class="st">&quot;20&quot;</span><span class="op">&gt;</span>&lt;/a<span class="op">-</span>entity<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">&lt;/a<span class="op">-</span>scene<span class="op">&gt;</span></a></code></pre></div></li>
</ul>
<h2 id="life-cycle-handler-methods">Life-cycle Handler Methods <a name="life-cycle-handler-methods"></a></h2>
<hr />
<figure>
<img src="_asset/img/3.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure>
<ul>
<li><p><code>component prototype properties</code> - within the methods, we have access to the component prototype via <code>this</code>:</p>
<figure>
<img src="_asset/img/4.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>init</code> <a name="init"></a></p>
<figure>
<img src="_asset/img/5.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>update</code> <a name="update"></a></p>
<figure>
<img src="_asset/img/6.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>remove</code> <a name="remove"></a></p>
<figure>
<img src="_asset/img/7.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>tick</code> <a name="tick"></a></p>
<figure>
<img src="_asset/img/8.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>tock</code> <a name="tock"></a></p>
<figure>
<img src="_asset/img/9.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>pause</code> <a name="pause"></a></p>
<figure>
<img src="_asset/img/10.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>play</code> <a name="play"></a></p>
<figure>
<img src="_asset/img/11.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
<li><p><code>updateSchema</code> <a name="update-schema"></a></p>
<figure>
<img src="_asset/img/12.png" alt="Life-cycle Handler Methods" /><figcaption>Life-cycle Handler Methods</figcaption>
</figure></li>
</ul>
<h2 id="definition-properties">Definition Properties <a name="definition-properties"></a></h2>
<hr />
<ul>
<li><p>dependencies:</p>
<figure>
<img src="_asset/img/13.png" alt="Definition Properties" /><figcaption>Definition Properties</figcaption>
</figure></li>
<li><p>multiple:</p>
<figure>
<img src="_asset/img/14.png" alt="Definition Properties" /><figcaption>Definition Properties</figcaption>
</figure></li>
</ul>
<h2 id="component-prototype-methods">Component Prototype Methods <a name="component-prototype-methods"></a></h2>
<hr />
<ul>
<li><p><code>flushToDom()</code>:</p>
<figure>
<img src="_asset/img/15.png" alt="Component Prototype Methods" /><figcaption>Component Prototype Methods</figcaption>
</figure></li>
</ul>
<h2 id="accessing-a-components-members-methods">Accessing a Component’s Members &amp; Methods <a name="members-and-methods"></a></h2>
<hr />
<figure>
<img src="_asset/img/16.png" alt="Accessing a Component’s Members &amp; Methods" /><figcaption>Accessing a Component’s Members &amp; Methods</figcaption>
</figure>
</body>
</html>
